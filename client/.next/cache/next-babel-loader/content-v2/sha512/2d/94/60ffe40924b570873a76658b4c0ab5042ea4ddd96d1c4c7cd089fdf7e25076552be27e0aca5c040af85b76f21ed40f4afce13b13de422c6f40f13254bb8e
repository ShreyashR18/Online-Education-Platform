{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Shreyash/Desktop/temp code/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Shreyash/Desktop/temp code/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Shreyash\\\\Desktop\\\\temp code\\\\client\\\\pages\\\\user\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { Context } from \"../../context\";\nimport UserRoute from \"../../components/routes/UserRoute\";\nimport axios from \"axios\";\nimport { Avatar } from \"antd\";\nimport Link from \"next/link\";\nimport { SyncOutlined, PlayCircleOutlined } from \"@ant-design/icons\";\nimport course from \"../../../server/models/course\";\n\nvar UserIndex = function UserIndex() {\n  _s();\n\n  var _useContext = useContext(Context),\n      user = _useContext.state.user;\n\n  var _useState = useState([]),\n      courses = _useState[0],\n      setCourses = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    loadCourses();\n  }, []);\n\n  var loadCourses = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return axios.get(\"/api/user-courses\");\n\n            case 4:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n              setCourses(data);\n              setLoading(false);\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n              setLoading(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function loadCourses() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(UserRoute, {\n    children: [loading && /*#__PURE__*/_jsxDEV(SyncOutlined, {\n      spin: true,\n      className: \"d-flex justify-content-center display-1 text-danger p-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"jumbotron text-center square\",\n      children: \"User dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, _this), courses && courses.map(function (course) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media pt-2 pb-1\",\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          size: 80,\n          shape: \"square\",\n          src: course.image ? course.image.Location : \"/course.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"media-body pl-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                href: \"/user/course/\".concat(course.slug),\n                className: \"pointer\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mt-2 text-primary\",\n                    children: course.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: \"-10px\"\n                },\n                children: [course.lessons.length, \" lessons\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted\",\n                style: {\n                  marginTop: \"-15px\",\n                  fontSize: \"12px\"\n                },\n                children: [\"By \", course.instructor.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3 mt-3 text-center\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/user/course/\".concat(course.slug),\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: /*#__PURE__*/_jsxDEV(PlayCircleOutlined, {\n                    className: \"h2 pointer text-primary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, _this)]\n      }, course._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, _this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(UserIndex, \"eSW8YB2eU9700kpRQlT73yTeYEA=\");\n\n_c = UserIndex;\nexport default UserIndex;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserIndex\");","map":{"version":3,"sources":["C:/Users/Shreyash/Desktop/temp code/client/pages/user/index.js"],"names":["useContext","useEffect","useState","Context","UserRoute","axios","Avatar","Link","SyncOutlined","PlayCircleOutlined","course","UserIndex","user","state","courses","setCourses","loading","setLoading","loadCourses","get","data","console","log","map","image","Location","slug","name","marginTop","lessons","length","fontSize","instructor","_id"],"mappings":";;;;;;;;AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,YAAT,EAAuBC,kBAAvB,QAAiD,mBAAjD;AACA,OAAOC,MAAP,MAAmB,+BAAnB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AAAA,oBAGlBX,UAAU,CAACG,OAAD,CAHQ;AAAA,MAEXS,IAFW,eAEpBC,KAFoB,CAEXD,IAFW;;AAAA,kBAIQV,QAAQ,CAAC,EAAD,CAJhB;AAAA,MAIfY,OAJe;AAAA,MAINC,UAJM;;AAAA,mBAKQb,QAAQ,CAAC,KAAD,CALhB;AAAA,MAKfc,OALe;AAAA,MAKNC,UALM;;AAOtBhB,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMA,WAAW;AAAA,wEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEhBD,cAAAA,UAAU,CAAC,IAAD,CAAV;AAFgB;AAAA,qBAGOZ,KAAK,CAACc,GAAN,CAAU,mBAAV,CAHP;;AAAA;AAAA;AAGRC,cAAAA,IAHQ,oBAGRA,IAHQ;AAIhBL,cAAAA,UAAU,CAACK,IAAD,CAAV;AACAH,cAAAA,UAAU,CAAC,KAAD,CAAV;AALgB;AAAA;;AAAA;AAAA;AAAA;AAOhBI,cAAAA,OAAO,CAACC,GAAR;AACAL,cAAAA,UAAU,CAAC,KAAD,CAAV;;AARgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXC,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAYA,sBACE,QAAC,SAAD;AAAA,eACGF,OAAO,iBACN,QAAC,YAAD;AACE,MAAA,IAAI,MADN;AAEE,MAAA,SAAS,EAAC;AAFZ;AAAA;AAAA;AAAA;AAAA,aAFJ,eAOE;AAAI,MAAA,SAAS,EAAC,8BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPF,EAWGF,OAAO,IACNA,OAAO,CAACS,GAAR,CAAY,UAACb,MAAD;AAAA,0BACV;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAA,gCACE,QAAC,MAAD;AACE,UAAA,IAAI,EAAE,EADR;AAEE,UAAA,KAAK,EAAC,QAFR;AAGE,UAAA,GAAG,EAAEA,MAAM,CAACc,KAAP,GAAed,MAAM,CAACc,KAAP,CAAaC,QAA5B,GAAuC;AAH9C;AAAA;AAAA;AAAA;AAAA,iBADF,eAOE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,sCACE,QAAC,IAAD;AACE,gBAAA,IAAI,yBAAkBf,MAAM,CAACgB,IAAzB,CADN;AAEE,gBAAA,SAAS,EAAC,SAFZ;AAAA,uCAIE;AAAA,yCACE;AAAI,oBAAA,SAAS,EAAC,mBAAd;AAAA,8BAAmChB,MAAM,CAACiB;AAA1C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,uBADF,eASE;AAAG,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,SAAS,EAAE;AAAb,iBAAV;AAAA,2BACGlB,MAAM,CAACmB,OAAP,CAAeC,MADlB;AAAA;AAAA;AAAA;AAAA;AAAA,uBATF,eAYE;AACE,gBAAA,SAAS,EAAC,YADZ;AAEE,gBAAA,KAAK,EAAE;AAAEF,kBAAAA,SAAS,EAAE,OAAb;AAAsBG,kBAAAA,QAAQ,EAAE;AAAhC,iBAFT;AAAA,kCAIMrB,MAAM,CAACsB,UAAP,CAAkBL,IAJxB;AAAA;AAAA;AAAA;AAAA;AAAA,uBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAoBE;AAAK,cAAA,SAAS,EAAC,2BAAf;AAAA,qCACE,QAAC,IAAD;AAAM,gBAAA,IAAI,yBAAkBjB,MAAM,CAACgB,IAAzB,CAAV;AAAA,uCACE;AAAA,yCACE,QAAC,kBAAD;AAAoB,oBAAA,SAAS,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,qBApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAPF;AAAA,SAAUhB,MAAM,CAACuB,GAAjB;AAAA;AAAA;AAAA;AAAA,eADU;AAAA,KAAZ,CAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAuDD,CA9ED;;GAAMtB,S;;KAAAA,S;AAgFN,eAAeA,SAAf","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { Context } from \"../../context\";\nimport UserRoute from \"../../components/routes/UserRoute\";\nimport axios from \"axios\";\nimport { Avatar } from \"antd\";\nimport Link from \"next/link\";\nimport { SyncOutlined, PlayCircleOutlined } from \"@ant-design/icons\";\nimport course from \"../../../server/models/course\";\n\nconst UserIndex = () => {\n  const {\n    state: { user },\n  } = useContext(Context);\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadCourses();\n  }, []);\n\n  const loadCourses = async () => {\n    try {\n      setLoading(true);\n      const { data } = await axios.get(\"/api/user-courses\");\n      setCourses(data);\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <UserRoute>\n      {loading && (\n        <SyncOutlined\n          spin\n          className=\"d-flex justify-content-center display-1 text-danger p-5\"\n        />\n      )}\n      <h1 className=\"jumbotron text-center square\">User dashboard</h1>\n\n      {/* show list of courses */}\n\n      {courses &&\n        courses.map((course) => (\n          <div key={course._id} className=\"media pt-2 pb-1\">\n            <Avatar\n              size={80}\n              shape=\"square\"\n              src={course.image ? course.image.Location : \"/course.png\"}\n            />\n\n            <div className=\"media-body pl-2\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <Link\n                    href={`/user/course/${course.slug}`}\n                    className=\"pointer\"\n                  >\n                    <a>\n                      <h5 className=\"mt-2 text-primary\">{course.name}</h5>\n                    </a>\n                  </Link>\n                  <p style={{ marginTop: \"-10px\" }}>\n                    {course.lessons.length} lessons\n                  </p>\n                  <p\n                    className=\"text-muted\"\n                    style={{ marginTop: \"-15px\", fontSize: \"12px\" }}\n                  >\n                    By {course.instructor.name}\n                  </p>\n                </div>\n                <div className=\"col-md-3 mt-3 text-center\">\n                  <Link href={`/user/course/${course.slug}`}>\n                    <a>\n                      <PlayCircleOutlined className=\"h2 pointer text-primary\" />\n                    </a>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n    </UserRoute>\n  );\n};\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}